(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8321],{14353:function(e,r,t){"use strict";t.d(r,{Z:function(){return O}});var n=t(55732),o=t(34707),i=t.n(o),c=t(27378),a=t(47314),s=t(11246),l=t(90849),u=t(81461),d=t(86236),f=t.n(d),p=t(17140),h=t(24246);function m(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}var b=function(e){var r=e.schema,t=e.model,n=e.disabled,o=void 0!==n&&n,i=e.children,c=e.formRef,a=e.onSubmit,s=e.onChangeModel,l=void 0===s?function(){}:s,d=new p.j(r,y(r));return(0,h.jsx)(u.Z,{disabled:o,onChangeModel:l,ref:c,schema:d,onSubmit:a,submitField:function(){return(0,h.jsx)(h.Fragment,{})},model:t,children:i})},v=new(f())({strict:!1,allErrors:!0,useDefaults:!0});v=v.addFormat("absolute-url","^(http://|https://)");var y=function(e){var r=v.compile(e);return function(t){var n=function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?m(Object(t),!0).forEach((function(r){(0,l.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},t);if(Object.entries(n).map((function(r){var t=(0,s.Z)(r,2),o=t[0],i=t[1],c=-1!=e.required.indexOf(o);n[o]="string"===typeof i&&c?j(i):i})),r(n),r.errors&&r.errors.length)return{details:r.errors}}},j=function(e){return""===e.trim()?null:e};function O(e){var r,t=e.schema,o=e.title,s=e.model,l=e.children,u=e.onChangeModel,d=void 0===u?function(e){}:u,f=e.onReset,p=void 0===f?function(){}:f,m=e.onSubmit,v=e.submitLabel,y=void 0===v?"Save":v,j=e.cancelLabel,O=void 0===j?"Cancel":j,x=e.message,g=void 0===x?"":x,w=e.disabled,P=void 0!==w&&w,k=e.disabledMessage,E=void 0===k?"":k,N=(0,c.useState)(!1),S=N[0],_=N[1],Z=(0,c.useState)(!1),D=Z[0],C=Z[1];return(0,h.jsxs)("section",{className:"section-block mb-8",children:[(0,h.jsxs)("div",{className:" flex h-12 items-center overflow-hidden border-b border-panel-border-light bg-panel-header-light px-6 dark:border-panel-border-dark dark:bg-panel-header-dark",children:[(0,h.jsx)("div",{className:"flex-1 text-left",children:(0,h.jsx)("h6",{children:o||""})}),P&&E?(0,h.jsx)("p",{className:"text-sm text-scale-1000",children:E}):(0,h.jsxs)("div",{className:"flex transition duration-150 ".concat(D?"opacity-100":"cursor-default opacity-0"),children:[(0,h.jsx)(a.z,{onClick:function(){r.reset(),_(!1),C(!1),p&&p()},type:"default",disabled:!D,children:O||"Cancel"}),(0,h.jsx)(a.z,{onClick:function(){r.submit().then((function(){_(!0)})).catch((function(e){console.error("Error on submitting",e)}))},loading:S,disabled:P||!D,type:"primary",className:"ml-2 hover:border-green-500",children:y||"Save"})]}),(0,h.jsx)("span",{className:"text-sm text-scale-900",children:g})]}),(0,h.jsx)("div",{className:"Form section-block--body px-6 py-3",children:(0,h.jsx)(b,{disabled:P,onChangeModel:function(e){C(!0),d&&d(e)},formRef:function(e){return r=e},schema:t,model:s,onSubmit:function(){var e=(0,n.Z)(i().mark((function e(r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(r).then((function(){_(!1),C(!1)})).catch((function(){return _(!1)}));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),children:l})})]})}},93502:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return J}});var n=t(55732),o=t(34707),i=t.n(o),c=t(43659),a=t(3648),s=t(47314),l=t(58728),u=t(90849),d=t(27378),f=t(23615),p=t.n(f);function h(){return h=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},h.apply(this,arguments)}function m(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var b=(0,d.forwardRef)((function(e,r){var t=e.color,n=void 0===t?"currentColor":t,o=e.size,i=void 0===o?24:o,c=m(e,["color","size"]);return d.createElement("svg",h({ref:r,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),d.createElement("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}))}));b.propTypes={color:p().string,size:p().oneOfType([p().string,p().number])},b.displayName="Moon";var v=b,y=t(12163),j=t(24246);function O(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}var x=function(e){return(0,j.jsx)(y.Z,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?O(Object(t),!0).forEach((function(r){(0,u.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({icon:v},e))};function g(){return g=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},g.apply(this,arguments)}function w(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var P=(0,d.forwardRef)((function(e,r){var t=e.color,n=void 0===t?"currentColor":t,o=e.size,i=void 0===o?24:o,c=w(e,["color","size"]);return d.createElement("svg",g({ref:r,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},c),d.createElement("circle",{cx:"12",cy:"12",r:"5"}),d.createElement("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),d.createElement("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),d.createElement("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),d.createElement("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),d.createElement("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),d.createElement("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),d.createElement("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),d.createElement("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"}))}));P.propTypes={color:p().string,size:p().oneOfType([p().string,p().number])},P.displayName="Sun";var k=P;function E(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}var N=function(e){return(0,j.jsx)(y.Z,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?E(Object(t),!0).forEach((function(r){(0,u.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({icon:k},e))},S=t(42753),_=t(14353),Z=t(96423),D=t(76188),C=t(90089),z=t(85945),L=t(48228),T=t(14919),M=t(20796),R=t(43399),F=["onSuccess"];function I(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function A(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?I(Object(t),!0).forEach((function(r){(0,u.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):I(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function q(e){return B.apply(this,arguments)}function B(){return(B=(0,n.Z)(i().mark((function e(r){var t,n,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.firstName,n=r.lastName,e.next=3,(0,T.v_)("".concat(M.T5,"/profile/update"),{first_name:t,last_name:n});case 3:if(!(o=e.sent).error){e.next=6;break}throw o.error;case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var W=t(27102),X=t(27316),Q=t(79894),U=t.n(Q),G=t(22917),H=function(){return(0,j.jsx)("div",{className:"my-2",children:(0,j.jsx)(K,{})})};H.getLayout=function(e){return(0,j.jsx)(S.p0,{title:"Preferences",breadcrumbs:[{key:"supabase-settings",label:"Preferences"}],children:e})};var J=H,K=(0,c.Pi)((function(){var e,r,t=(0,W.oR)().ui,o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.onSuccess,t=(0,C.Z)(e,F),o=(0,z.NL)();return(0,L.D)((function(e){return q(e)}),A({onSuccess:function(e,t,c){return(0,n.Z)(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.invalidateQueries(R.c.profile());case 2:return n.next=4,null===r||void 0===r?void 0:r(e,t,c);case 4:case"end":return n.stop()}}),n)})))()}},t))}(),c=o.mutateAsync,a=(0,D.O_)().data,s=function(){var e=(0,n.Z)(i().mark((function e(r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c({firstName:r.first_name,lastName:r.last_name});case 3:t.setNotification({category:"success",message:"Successfully saved profile"}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t.setNotification({error:e.t0,category:"error",message:"Couldn't update profile. Please try again later."});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(r){return e.apply(this,arguments)}}();return(0,j.jsxs)("article",{className:"max-w-4xl p-4",children:[(0,j.jsx)("section",{children:(0,j.jsx)(V,{profile:a})}),(0,j.jsx)("section",{children:(0,j.jsx)(_.Z,{title:"Profile",schema:{type:"object",required:[],properties:{first_name:{type:"string"},last_name:{type:"string"}}},model:{first_name:null!==(e=null===a||void 0===a?void 0:a.first_name)&&void 0!==e?e:"",last_name:null!==(r=null===a||void 0===a?void 0:a.last_name)&&void 0!==r?r:""},onSubmit:s})}),(0,j.jsx)("section",{children:(0,j.jsx)(Y,{})})]})})),V=function(e){var r,t,n=e.profile,o=(0,X.kP)();return(0,j.jsx)(Z.Z,{title:(0,j.jsx)("h5",{className:"mb-0",children:"Account Information"},"panel-title"),children:(0,j.jsx)(Z.Z.Content,{children:(0,j.jsxs)("div",{className:"space-y-2",children:[(0,j.jsx)(a.Z,{readOnly:!0,disabled:!0,label:"Username",layout:"horizontal",value:null!==(r=null===n||void 0===n?void 0:n.username)&&void 0!==r?r:""}),(0,j.jsx)(a.Z,{readOnly:!0,disabled:!0,label:"Email",layout:"horizontal",value:null!==(t=null===n||void 0===n?void 0:n.primary_email)&&void 0!==t?t:""}),"email"===(null===o||void 0===o?void 0:o.user.app_metadata.provider)&&(0,j.jsxs)("div",{className:"text-sm grid gap-2 md:grid md:grid-cols-12 md:gap-x-4",children:[(0,j.jsx)("div",{className:"flex flex-col space-y-2 col-span-4 ",children:(0,j.jsx)("p",{className:"text-scale-1100 break-all",children:"Password"})}),(0,j.jsx)("div",{className:"col-span-8",children:(0,j.jsx)(U(),{href:"/reset-password",children:(0,j.jsx)("a",{children:(0,j.jsx)(s.z,{type:"default",size:"medium",children:"Reset password"})})})})]})]})})})},Y=(0,c.Pi)((function(){var e=(0,G.Fg)(),r=e.isDarkMode,t=e.toggleTheme;return(0,j.jsx)(Z.Z,{title:(0,j.jsx)("h5",{children:"Theme"},"panel-title"),children:(0,j.jsx)(Z.Z.Content,{children:(0,j.jsxs)(l.Z,{value:r?"dark":"light",label:"Interface theme",descriptionText:"Choose a theme preference",layout:"horizontal",style:{width:"50%"},icon:r?(0,j.jsx)(x,{}):(0,j.jsx)(N,{}),onChange:function(e){return t("dark"===e)},children:[(0,j.jsx)(l.Z.Option,{label:"Dark",value:"dark",children:"Dark"}),(0,j.jsx)(l.Z.Option,{label:"Light",value:"light",children:"Light"})]})})})}))},43113:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/me",function(){return t(93502)}])}},function(e){e.O(0,[7930,1188,8094,2056,5286,9774,2888,179],(function(){return r=43113,e(e.s=r);var r}));var r=e.O();_N_E=r}]);
//# sourceMappingURL=me-6737bea9ac3908b4.js.map