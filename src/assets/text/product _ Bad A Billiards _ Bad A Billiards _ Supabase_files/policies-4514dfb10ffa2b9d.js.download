(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5885],{11008:function(e,t,r){"use strict";r.r(t);var n=r(11246),s=r(27378),i=r(98784),c=r(58728),a=r(86223),l=r(3648),o=r(1296),u=r(47314),d=r(65961),h=r(43659),f=r(68043),m=r(27102),p=r(36802),x=r(42753),v=r(8190),j=r(38230),b=r(24246),y=function(e,t,r){if(r){var n=r.toLowerCase(),s=t.filter((function(e){return e.name.toLowerCase().includes(n)}));return e.slice().filter((function(e){return e.name.toLowerCase().includes(n)||e.id.toString()===n||s.some((function(t){return t.table===e.name}))})).sort((function(e,t){return e.name.localeCompare(t.name)}))}return e.slice().sort((function(e,t){return e.name.localeCompare(t.name)}))},g=function(){var e=(0,m.oR)().meta,t=(0,p.UO)().search,r=(0,s.useState)("public"),h=r[0],x=r[1],g=(0,s.useState)(""),w=g[0],O=g[1];(0,s.useEffect)((function(){t&&O(t)}),[t]);var N=e.schemas.list(),k=(0,i.partition)(N,(function(t){var r;return e.excludedSchemas.includes(null!==(r=null===t||void 0===t?void 0:t.name)&&void 0!==r?r:"")})),E=(0,n.Z)(k,2),_=E[0],S=E[1],Z=N.find((function(e){return e.name===h})),z=_.some((function(e){return e.id===(null===Z||void 0===Z?void 0:Z.id)})),L=e.policies.list(),P=e.tables.list((function(e){return e.schema===h})),C=y(P,L,w);return(0,m.FH)(f.KA.TENANT_SQL_ADMIN_READ,"policies")?(0,b.jsxs)("div",{className:"flex flex-col h-full",children:[(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)("div",{className:"w-[230px]",children:(0,b.jsxs)(c.Z,{size:"small",value:h,onChange:function(e){x(e),O("")},icon:z&&(0,b.jsx)(a.Z,{size:14,strokeWidth:2}),children:[(0,b.jsx)(c.Z.Option,{disabled:!0,value:"normal-schemas",label:"Schemas",children:(0,b.jsx)("p",{className:"text-sm",children:"Schemas"})},"normal-schemas"),S.map((function(e){return(0,b.jsx)(c.Z.Option,{value:e.name,label:e.name,addOnBefore:function(){return(0,b.jsx)("span",{className:"text-scale-900",children:"schema"})},children:(0,b.jsx)("span",{className:"text-scale-1200 text-sm",children:e.name})},e.id)})),(0,b.jsx)(c.Z.Option,{disabled:!0,value:"protected-schemas",label:"Protected schemas",children:(0,b.jsx)("p",{className:"text-sm",children:"Protected schemas"})},"protected-schemas"),_.map((function(e){return(0,b.jsx)(c.Z.Option,{value:e.name,label:e.name,addOnBefore:function(){return(0,b.jsx)("span",{className:"text-scale-900",children:"schema"})},children:(0,b.jsx)("span",{className:"text-scale-1200 text-sm",children:e.name})},e.id)}))]})}),(0,b.jsx)(l.Z,{size:"small",placeholder:"Filter tables and policies",className:"block w-64 text-sm placeholder-gray-400",value:w,onChange:function(e){return O(e.target.value)},icon:(0,b.jsx)(o.Z,{size:"tiny"})})]}),(0,b.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://supabase.com/docs/learn/auth-deep-dive/auth-row-level-security",children:(0,b.jsx)(u.z,{type:"link",icon:(0,b.jsx)(d.Z,{size:14,strokeWidth:1.5}),children:"What is RLS?"})})]})}),(0,b.jsx)(v.rE,{tables:C,hasTables:P.length>0,isLocked:z})]}):(0,b.jsx)(j.Z,{isFullPage:!0,resourceText:"view this project's RLS policies"})};g.getLayout=function(e){return(0,b.jsx)(x.g1,{title:"Auth",children:(0,b.jsx)("div",{className:"h-full p-4",children:e})})},t.default=(0,h.Pi)(g)},22490:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/auth/policies",function(){return r(11008)}])},20935:function(e,t,r){"use strict";var n=r(27378),s=r(23615),i=r.n(s);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}function a(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var l=(0,n.forwardRef)((function(e,t){var r=e.color,s=void 0===r?"currentColor":r,i=e.size,l=void 0===i?24:i,o=a(e,["color","size"]);return n.createElement("svg",c({ref:t,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),n.createElement("rect",{x:"3",y:"3",width:"7",height:"7"}),n.createElement("rect",{x:"14",y:"3",width:"7",height:"7"}),n.createElement("rect",{x:"14",y:"14",width:"7",height:"7"}),n.createElement("rect",{x:"3",y:"14",width:"7",height:"7"}))}));l.propTypes={color:i().string,size:i().oneOfType([i().string,i().number])},l.displayName="Grid",t.Z=l},55931:function(e,t,r){"use strict";var n=r(27378),s=r(23615),i=r.n(s);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}function a(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var l=(0,n.forwardRef)((function(e,t){var r=e.color,s=void 0===r?"currentColor":r,i=e.size,l=void 0===i?24:i,o=a(e,["color","size"]);return n.createElement("svg",c({ref:t,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),n.createElement("circle",{cx:"12",cy:"12",r:"1"}),n.createElement("circle",{cx:"12",cy:"5",r:"1"}),n.createElement("circle",{cx:"12",cy:"19",r:"1"}))}));l.propTypes={color:i().string,size:i().oneOfType([i().string,i().number])},l.displayName="MoreVertical",t.Z=l}},function(e){e.O(0,[7930,1188,2056,5286,8190,9774,2888,179],(function(){return t=22490,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=policies-4514dfb10ffa2b9d.js.map